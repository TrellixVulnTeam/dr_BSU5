<div class="header pb-8 d-flex align-items-center"
  style="min-height: 600px; background-image: url(assets/img/theme/profile-cover.jpg); background-size: cover; background-position: center top;">
  <!-- Mask -->
  <span class="mask bg-grad-final opacity-8"></span>
  <!-- Header container -->
  <div class="container-fluid d-flex align-items-center">
    <div class="row">
      <div class="col-lg-12 col-md-10">
        <h1 class="display-2 text-white">Add Patients</h1>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid" style="margin-top: -15rem;" *ngFor="let patient of patients; let j = index;" > 
  <div class="row">
    <div class="col-xl-12 order-xl-1">
      <div class="card card-profile shadow">
        <div class="card-header bg-secondary border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">Patient</h3>
            </div>
            <div class="col-4 text-right">
              <a class="btn btn-secondary btn-sm float-right" [routerLink]="['/newprescription',patient._id]" [state]="patient"> <i class="ni ni-fat-add"></i>Add Prescription</a>
            </div>
          </div>
        </div>
        
        <div class="card-body" >
            <h6 class="heading-small text-muted mb-4">Details</h6>
            <div class="pl-lg-4">
              <div class="row pt-2 pb-2">
                <div class="col-lg-4">
                    <label class="form-control-label">Patient ID :</label>
                    <label class="description pl-md-2">{{patient._id}}</label>
                </div>
                <div class="col-lg-4">
                  <label class="form-control-label">Patient Name :</label>
                  <label class="description pl-md-2">{{patient.patientName}}</label>
              </div>
              <div class="col-lg-4">
                <label class="form-control-label">Mobile :</label>
                <label class="description pl-md-2">{{patient.mobile}}</label>
            </div>
                </div>
              <div class="row pt-2 pb-2">
                <div class="col-lg-4">
                  <label class="form-control-label">Email :</label>
                  <label class="description pl-md-2">{{patient.email}}</label>
              </div>
              <div class="col-lg-4">
                <label class="form-control-label">Date of birth :</label>
                <label class="description pl-md-2">{{patient.dob | date:'mediumDate'}}</label>
                </div>
              <div class="col-lg-4">
                <label class="form-control-label">Age :</label>
                <label class="description pl-md-2">{{patient.age}}</label>
                </div>
              </div>
              <div class="row pt-2 pb-2">
                <div class="col-lg-4">
                  <label class="form-control-label">Gender :</label>
                  <label class="description pl-md-2">{{patient.gender}}</label>
              </div>
                  <div class="col-lg-4 d-none">
                    <label class="form-control-label">Pet Type :</label>
                    <label class="description pl-md-2">{{patient.pettype}}</label>
                  </div>
                  
              
                <div class="col-lg-4 d-none">
                  <label class="form-control-label">Breed :</label>
                  <label class="description pl-md-2">{{patient.breed}}</label>
                  </div>
              </div>
              <div class="row pt-2 pb-2">
                <div class="col-lg-12">
                  <label class="form-control-label">Address :</label>
                  <label class="description pl-md-2">{{patient.address}}</label>
                </div>
               
              </div>
            </div>
              <hr class="my-4" />
              <div class="mb-lg-2 bg-secondary" *ngFor="let prescription of patient.prescription; let j = index;" style="border: 2px double #f7fafc;">
                <div class="card-header bg-grad-final border-0">
                  <div class="row align-items-center">
                    <div class="col-8">
                      <h3 class="mb-0 text-white">Prescription : {{prescription.createddate | date:'mediumDate'}}</h3>
                    </div>
                    <div class="col-4 text-right">
                      <a class="btn btn-secondary btn-sm float-right" [routerLink]="['/addprescription',prescription._id]" [state]="patient"> <i class="ni ni-fat-add"></i>Copy Prescription</a>
                    </div>
                  </div>
                </div>
              <div class="pl-lg-4" >
                <div class="row pt-2 pb-2">
                <div class="col-lg-12">
                  <label class="form-control-label">Symptoms :</label>
                  <label class="description pl-md-2">{{prescription.symptoms}}</label>
                </div>
              </div>
              <div class="row pt-2 pb-2" >
                <ng-container  *ngFor="let disease of patient.diseases; let k = inde;">
                <div class="col-lg-4" *ngIf="disease._id===prescription.disease">
                    <label class="form-control-label">Disease Name :</label>
                    <label class="description pl-md-2">{{disease.diseaseName}}</label>
                </div>
              </ng-container>
                <ng-container  *ngFor="let diseaseStages of patient.diseaseStage; let k = ind;">
                <div class="col-lg-4" *ngIf="diseaseStages._id===prescription.diseaseStage">
                    <label class="form-control-label" >Disease Stage :</label>
                    <label class="description pl-md-2"> {{diseaseStages.diseaseStageName}}</label>
                </div>
              </ng-container>
                <div class="col-lg-4">
                    <label class="form-control-label" for="txt_LFDesease">Length of Disease :</label>
                    <label class="description pl-md-2">{{prescription.lFDesease}}</label>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Address -->
           
            <h6 class="heading-small text-muted mb-4">Prescription</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="card shadow">
                  <div class="table-responsive">
                    <table class="table align-items-center table-flush">
                      <thead class="thead-light">
                        <tr>
                          <th scope="col">Medicine Name</th>
                          <th scope="col">How many times in a day</th>
                          <th scope="col">how many days</th>
                          <th scope="col">Special instruction</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let dynamic of prescription.dosasge; let d = dosas;">
                          <ng-container  *ngFor="let medicine of patient.medicines; let k = ind;">
                          <td *ngIf="medicine._id===dynamic.MeName">
                            <label class="description pl-md-2">{{medicine.medicineName}}</label>
                          </td>
                          </ng-container>
                          <td>
                            <label class="description pl-md-2">{{dynamic.HMTimes}}</label>
                          </td>
                          <td>
                            <label class="description pl-md-2">{{dynamic.NODays}}</label>
                          </td>
                          <td>
                            <label class="description pl-md-2">{{dynamic.SPInstruction}}</label>
                          </td>
                        </tr>
                       
                      </tbody>
                    </table>
                  </div>
                  <!-- <div class="card-footer py-4">
                    <nav aria-label="...">
                      <a class="btn btn-sm text-primary float-right" (click)="addRow(i)"> <i class="ni ni-fat-add"></i> Add More</a>
                    </nav>
                  </div> -->
                </div>

              </div>
            </div>
            <hr class="my-4" />
            <div class="row">
              <div class="col-lg-4">
                  <label class="form-control-label" for="">Follow-up Need</label>
                  <label class="description pl-md-2">{{prescription.followupNeed}}</label>
              </div>
              <div class="col-lg-4">
                  <label class="form-control-label">Follow-up Date</label>
                  <label class="description pl-md-2">{{prescription.FDate | date:'mediumDate'}}</label>
              </div>
              <div class="col-lg-4">
                  <label class="form-control-label" for="txt_Ftime">Follow-up Time</label>
                  <label class="description pl-md-2">{{prescription.timeFollow.hour}}:{{prescription.timeFollow.minute}}</label>
              </div>
            </div>
            <hr class="my-4" />
            <div class="row">
              <div class="col-lg-3">
                  <label class="form-control-label" for="">Vaccination Required</label>
                  <label class="description pl-md-2">{{prescription.vaccinationRequired}}</label>
              </div>
              <ng-container  *ngFor="let vaccination of patient.vaccinations; let v = indv;">
              <div class="col-lg-3" *ngIf="vaccination._id===prescription.vaccination">
                  <label class="form-control-label">Vaccination Name</label>
                  <label class="description pl-md-2">{{vaccination.vaccination}}</label>
              </div>
              </ng-container>
              <div class="col-lg-3">
                  <label class="form-control-label">Vaccination Date</label>
                  <label class="description pl-md-2">{{prescription.vFDate | date:'mediumDate'}}</label>
              </div>
              <div class="col-lg-3">
                  <label class="form-control-label" for="txt_VFtime">Vaccination Time</label>
                  <label class="description pl-md-2">{{prescription.vtimeFollow.hour}}:{{prescription.vtimeFollow.minute}}</label>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Description -->
            <div class="pl-lg-4">
                <label>About Me</label>
                <label class="description pl-md-2">{{prescription.aboutMe}}</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>